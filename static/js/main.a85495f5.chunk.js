(this["webpackJsonpclyde-editor"]=this["webpackJsonpclyde-editor"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var i,r=n(0),o=n(1),a=n.n(o),c=n(20),l=n.n(c),u=(n(48),n(49),n(3)),s=n(7),d=n(6),b=n(22),h=n(36),g=n.n(h),f=n(10),j=n(2),x=Object(d.b)("editor/interface/toggle_editor"),p=Object(d.b)("editor/interface/toggle_intepreter"),v=Object(d.b)("editor/interface/change_interpreter_split_direction");var O,m=Object(d.c)({isEditorEnabled:!0,isInterpreterEnabled:!0,interpreterSplitDirection:"vertical"},(i={},Object(j.a)(i,x,(function(e,t){return e.isEditorEnabled=t.payload.state,e})),Object(j.a)(i,p,(function(e,t){return e.isInterpreterEnabled=t.payload.state,e})),Object(j.a)(i,v,(function(e,t){return e.interpreterSplitDirection=t.payload.direction,e})),i)),y=Object(d.b)("editor/editor/set_document_content"),k=Object(d.b)("editor/editor/update_preference");var w,S=Object(d.c)({currentValue:"",preferences:{theme:"dracula",fontSize:16,tabSize:4,highlightActiveLine:!1,lineWrap:!1,useSoftTabs:!0,showInvisibles:!1,scrollPastEnd:!1,vimMode:!1}},(O={},Object(j.a)(O,y,(function(e,t){return e.currentValue=t.payload,e})),Object(j.a)(O,k,(function(e,t){return e.preferences[t.payload.name]=t.payload.value,e})),O)),E=n(12),D=Object(d.b)("editor/interpreter/set_dialogue_block"),P=Object(d.b)("editor/interpreter/add_dialogue_line"),C=Object(d.b)("editor/interpreter/clear_timeline"),B=Object(d.b)("editor/interpreter/show_metadata"),_=Object(d.b)("editor/interpreter/hide_metadata"),T=Object(d.b)("editor/interpreter/show_debug_pane"),M=Object(d.b)("editor/interpreter/hide_debug_pane"),I=Object(d.b)("editor/interpreter/enable_single_bubble_dialogue"),z=Object(d.b)("editor/interpreter/disable_single_bubble_dialogue"),N=Object(d.b)("editor/interpreter/choose_option"),A=Object(d.b)("editor/interpreter/notify_event"),L=Object(d.b)("editor/interpreter/clear_events");var V=Object(d.c)({currentBlock:void 0,timeline:[],shouldShowExtraMetadata:!1,shouldShowDebugPane:!1,singleBubblePresentation:!1,document:void 0,events:[]},(w={},Object(j.a)(w,D,(function(e,t){return e.currentBlock=t.payload,e})),Object(j.a)(w,P,(function(e,t){return e.timeline=[].concat(Object(E.a)(e.timeline),[t.payload]),e})),Object(j.a)(w,C,(function(e,t){return e.timeline=[],e})),Object(j.a)(w,B,(function(e){return e.shouldShowExtraMetadata=!0,e})),Object(j.a)(w,_,(function(e){return e.shouldShowExtraMetadata=!1,e})),Object(j.a)(w,T,(function(e){return e.shouldShowDebugPane=!0,e})),Object(j.a)(w,M,(function(e){return e.shouldShowDebugPane=!1,e})),Object(j.a)(w,I,(function(e){return e.singleBubblePresentation=!0,e})),Object(j.a)(w,z,(function(e){return e.singleBubblePresentation=!1,e})),Object(j.a)(w,N,(function(e,t){return e.timeline.length&&"options"===e.timeline[e.timeline.length-1].type?(e.timeline[e.timeline.length-1].selected=t.payload,e):e})),Object(j.a)(w,A,(function(e,t){return e.events=[].concat(Object(E.a)(e.events),[t.payload]),e})),Object(j.a)(w,L,(function(e,t){return e.events=[],e})),w)),G=Object(f.c)({interfaceConfig:m,editor:S,interpreter:V}),H=n(16),R=n(4),F=n(9),W=n(8);function $(){var e=Object(u.a)(["\n  background-color: #eee;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  flex-basis: ","px;\n  cursor: ",";\n"]);return $=function(){return e},e}function Z(){var e=Object(u.a)(["\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  height: auto;\n  flex-direction: ",";\n  max-height: 100%;\n"]);return Z=function(){return e},e}var U=R.a.div(Z(),(function(e){return"horizontal"===e.direction?"column":"row"})),q=R.a.div($(),4,(function(e){return"horizontal"===e.direction?"row-resize":"col-resize"}));function J(e){var t=e.direction,n=void 0===t?"vertical":t,i=e.defaultSizes,o=e.style,c=Array.isArray(e.children)?e.children:[e.children],l=c.filter((function(e){return e&&""!==e})),u=function(){if(1===l.length)return["100%"];if(i){var e=i.map((function(e){return"calc(".concat(e,"% - 2px)")}));if(i.length===l.length)return e;var t=l.reduce((function(e,t){var n=c.indexOf(t);return e+i[n]}),0);if(t<100){var n=c.indexOf(l[l.length-1]);e[n]="calc(".concat(i[n]+(100-t),"% - 2px)")}return e}var r=Math.floor(100/l.length);return Array(c.length).fill("calc(".concat(r,"% - 2px)"))}(),s=c.reduce((function(e,t,i){if(!t)return e;var o=l.indexOf(t);return o>0&&o<l.length&&e.push(Object(r.jsx)(q,{direction:n})),e.push(a.a.cloneElement(t,{key:i,style:{flexBasis:u[i],flexGrow:1}})),e}),[]);return Object(r.jsx)(U,{direction:n,style:o,children:s.map((function(e,t){return a.a.cloneElement(e,{key:t})}))})}function Y(){var e=Object(u.a)(["\n  padding: 6px 15px;\n  display: flex;\n  flex-direction: row;\n\n  &:hover {\n    background-color: #eee;\n  }\n\n  > svg {\n    flex-basis: 30px;\n    margin-right: 5px;\n  }\n"]);return Y=function(){return e},e}function K(){var e=Object(u.a)(["\n  position: absolute;\n  display: 'flex';\n  flex-direction: column;\n  width: auto;\n  min-width: 230px;\n  z-index: 9999;\n  background-color: #fff;\n  font-size: 1rem;\n  padding: 10px 0px;\n  border: 1px solid #eee;\n  border-radius: 5px;\n"]);return K=function(){return e},e}var Q=R.a.div(K()),X=R.a.div(Y());function ee(e){var t=e.children,n=e.onClick,i=e.style;return Object(r.jsx)(Q,{onClick:n,style:i,children:a.a.Children.toArray(t)})}function te(e){var t=e.label,n=e.icon,i=e.onClick,o=e.text;return Object(r.jsxs)(X,{"aria-label":t,onClick:i,children:[Object(r.jsx)(F.a,{icon:n})," ",o]})}var ne=n(14),ie=n(40),re=n.n(ie),oe=n(41);n(72),n(73),n(74),n(75),n(76),n(77);function ae(){var e=[{token:"constant.language.boolean",regex:/(true|false)/},{token:"constant.numeric",regex:/[0-9,.]+/},{token:"constant.string",regex:/(".*")/}],t=[{token:"keyword.operator",regex:/(isnt|ISNT)/},{token:"keyword.operator",regex:/(and|or|not|is|AND|OR|NOT|IS)/},{token:"keyword.operator",regex:/(&&|\|\||<=|>=|==|!=)/},{token:"keyword.operator",regex:/(\*|\+|-|\^|\/|%|<|>|!)/}],n=[{token:"keyword",regex:/(\})/,next:"start"}],i=[{token:"support.constant",regex:/OPTIONS_COUNT/}],r=[{token:"identifier",regex:/[a-zA-Z_][a-zA-Z0-9_]+/}];this.$rules={start:[{token:"comment",regex:/^\s*--.*$/},{token:["keyword","text","variable"],regex:/^(==)(\s*)([a-zA-Z0-9_ ]+)$/},{token:["text","keyword","text","support.constant"],regex:/(\s*)(->)(\s*)(END)$/},{token:["text","keyword","text","variable"],regex:/(\s*)(->)(\s*)([a-zA-Z0-9_ ]+)/},{token:["text","keyword","text"],regex:/(\s*)(<-)(\s*)/},{token:["text","keyword","text","support.constant"],regex:/^(\s*)(\()(\s*)((?:shuffle|once|sequence|shuffle once|shuffle sequence)*)$/},{token:["text","keyword"],regex:/^(\s*)(\))$/},{token:"keyword.control",regex:/^(\s*[*+>])/},{token:"keyword",regex:/(\{)/,next:"logicBlock"},{token:"constant.string",regex:/#[a-zA-Z0-9_]+/},{token:["variable","text","variable"],regex:/((?:\s*[a-zA-Z0-9_] +:)?\s*)(".*")((?:\$[a-zA-Z0-9_]+)?)/},{token:["variable","text","variable"],regex:/((?:\s*[a-zA-Z0-9_ ]+:)?\s*)([^\r\n#${]+)((?:\$[a-zA-Z0-9_]+)?)/}],logicBlock:[{token:"keyword.control",regex:/(set)/,next:"assignmentBlock"},{token:"keyword.control",regex:/(trigger)/,next:"eventBlock"},{token:"keyword.control",regex:/(when)/}].concat(i,t,e,r,n),assignmentBlock:[].concat(i,t,[{token:"keyword.operator",regex:/(\+=|-=|\*=|\/=|%=|\^=)/},{token:"keyword.operator",regex:/(=)/}],e,r,n),eventBlock:[].concat(r,n)},this.normalizeRules()}function ce(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return ce=function(){return e},e}var le=R.a.div(ce()),ue={theme:"dracula",fontSize:16,tabSize:4,highlightActiveLine:!1,lineWrap:!1,useSoftTabs:!0,showInvisibles:!1,scrollPastEnd:!1};function se(e){var t=e.defaultValue,n=e.setDocumentContent,i=e.notifyChange,o=e.preferences,a=void 0===o?ue:o,c=Object(ne.a)(e,["defaultValue","setDocumentContent","notifyChange","preferences"]),l=Object(oe.a)(),u=l.ref,d=l.width,b=void 0===d?500:d,h=l.height,g=void 0===h?500:h;return Object(r.jsx)(le,Object(s.a)(Object(s.a)({ref:u},c),{},{"aria-label":"Text editor",children:Object(r.jsx)(re.a,{defaultValue:t,mode:"clyde",theme:a.theme,onBeforeLoad:function(e){var t;(t=e).define("ace/mode/clyde_highlight_rules",["require","exports","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t){var n=e("ace/lib/oop"),i=e("ace/mode/text_highlight_rules").TextHighlightRules;n.inherits(ae,i),t.ClydeHighlightRules=ae})),t.define("ace/mode/clyde",["require","exports","ace/lib/oop","ace/mode/text","ace/mode/clyde_highlight_rules"],(function(e,t){var n=e("ace/lib/oop"),i=e("ace/mode/text").Mode,r=e("ace/mode/clyde_highlight_rules").ClydeHighlightRules,o=function(){this.$id="ace/mode/clyde",this.HighlightRules=r,this.lineCommentStart="--",this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"===r[r.length-1].type||"start"===e&&t.match(/^\s*(\(|\*|\+)/)&&(i+=n),i}};n.inherits(o,i),t.Mode=o}))},onChange:function(e){n(e),e!==t&&i({text:"<DIALOGUE_CHANGED>"})},name:"mainEditor",width:"".concat(b,"px"),height:"".concat(g,"px"),editorProps:{$blockScrolling:!0},fontSize:a.fontSize,tabSize:a.tabSize,debounceChangePeriod:1e3,keyboardHandler:a.vimMode?"vim":void 0,highlightActiveLine:a.highlightActiveLine,setOptions:{showPrintMargin:!1,wrapBehavioursEnabled:a.lineWrap,wrap:a.lineWrap,useSoftTabs:a.useSoftTabs,showInvisibles:a.showInvisibles,scrollPastEnd:a.scrollPastEnd,navigateWithinSoftTabs:!0}})}))}var de=n(42),be=n(26);function he(){var e=Object(u.a)(["\n  text-align: center;\n  width: auto;\n  background-color: #ffeeee;\n  margin: 10px 10px;\n  padding: 30px 20px;\n  border-radius: 5px;\n  cursor: default;\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  white-space: pre-line;\n  line-height: 26px;\n"]);return he=function(){return e},e}function ge(){var e=Object(u.a)(["\n  text-align: center;\n  width: auto;\n  background-color: #eeeeee;\n  margin: 10px 10px;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: default;\n"]);return ge=function(){return e},e}var fe=R.a.div(ge()),je=R.a.div(he());function xe(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  color: #444;\n  padding: 0px 10px;\n  height: 40px;\n\n  > svg {\n    cursor: pointer;\n    font-size: 1.5em;\n    margin: 0px 20px;\n    &:hover {\n      color: #555;\n    }\n  }\n"]);return xe=function(){return e},e}var pe=R.a.div(xe());function ve(e){var t=e.doc,n=e.currentBlock,i=e.shouldShowExtraMetadata,o=e.shouldShowDebugPane,a=e.singleBubblePresentation,c=e.setBlock,l=e.clearTimeline,u=e.showExtraMetadata,s=e.hideExtraMetadata,d=e.showDebugPane,b=e.hideDebugPane,h=e.enableSingleBubbleDialogue,g=e.disableSingleBubbleDialogue,f=e.dialogue,j=e.addDialogueLine,x=e.chooseOption,p=e.clearEvents,v=function e(){var t=f.getContent();return j(t),t&&"options"!==t.type?e():t};return Object(r.jsxs)(pe,{children:[Object(r.jsx)(Oe,{document:t,currentBlock:n,onBlockSelected:function(e){c(e),l(),f.start(e)}}),Object(r.jsx)(F.a,{icon:W.l,title:"Restart dialogue",onClick:function(){f.start(n),l()}}),Object(r.jsx)(F.a,{icon:W.h,title:"Forward untill next choice",onClick:v}),Object(r.jsx)(F.a,{icon:W.i,title:"Execute Poltergeist mode (auto anwser)",onClick:function e(){var t=v();if(t){var n=Math.floor(Math.random()*t.options.length);x(n),f.choose(n),e()}}}),Object(r.jsx)(F.a,{icon:W.j,title:"Clear memory",onClick:function(){f.clearData(),j({type:"INTERPRETER_INFO",text:"Memory cleared"}),f.start(n),p(),l()}}),Object(r.jsx)(F.a,{icon:a?W.f:W.e,title:"Set ".concat(a?"multi":"single"," bubble dialogue"),onClick:function(){a?g():h()}}),Object(r.jsx)(F.a,{icon:W.k,onClick:function(){i?s():u()},title:"".concat(i?"Hide":"Show"," metadata")}),Object(r.jsx)(F.a,{icon:W.a,onClick:function(){o?b():d()},title:"".concat(o?"Hide":"Show"," debug pane")})]})}function Oe(e){var t=e.document,n=e.currentBlock,i=e.onBlockSelected,o=[].concat(Object(E.a)(t.content.length>0?["default"]:[]),Object(E.a)(t.blocks.map((function(e){return e.name}))));return Object(r.jsx)("div",{children:Object(r.jsx)("select",{value:n,onChange:function(e){"default"!==e.target.value?i(e.target.value):i()},"aria-label":"Block selector",children:o.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))})})}function me(){var e=Object(u.a)(["\n  color: #444;\n  font-weight: normal;\n  background-color: rgba(245,235,208, 1);\n  opacity: 0.8;\n  border-radius: 5px;\n  padding-right: 10px;\n  margin-left: 10px;\n\n  label {\n    margin-left: 10px;\n    font-weight: 500;\n  }\n"]);return me=function(){return e},e}function ye(){var e=Object(u.a)(["\n  position: relative;\n  opacity: ",";\n  ","\n  cursor: ",";\n  margin: 4px;\n\n  > span:hover {\n    ","\n  }\n"]);return ye=function(){return e},e}function ke(){var e=Object(u.a)(["\n  margin-left: 10px;\n  list-style-type: decimal;\n  list-style-position: inside;\n"]);return ke=function(){return e},e}function we(){var e=Object(u.a)(["\n  margin-bottom: 5px;\n  font-weight: 500;\n"]);return we=function(){return e},e}function Se(){var e=Object(u.a)(["\n"]);return Se=function(){return e},e}function Ee(){var e=Object(u.a)(["\n  width: auto;\n  background-color: #fff5da;\n  color: #34383c;\n  margin: 10px 10px;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: default;\n  position: relative;\n"]);return Ee=function(){return e},e}var De=R.a.div(Ee()),Pe=R.a.div(Se()),Ce=R.a.div(we()),Be=R.a.ol(ke()),_e=R.a.li(ye(),(function(e){return void 0!==e.optionSelected&&e.optionSelected!==e.index?.5:1}),(function(e){return e.optionSelected===e.index?"font-weight: 600;":""}),(function(e){return void 0===e.optionSelected?"pointer":"default"}),(function(e){return void 0!==e.optionSelected?"":"font-weight: 600;"})),Te=R.a.span(me());function Me(e){var t=e.line,n=e.onSelection,i=e.showMetadata;return void 0===t?Object(r.jsx)(fe,{children:"DIALOGUE ENDED"}):"line"===t.type?Object(r.jsx)(Ie,Object(s.a)(Object(s.a)({},t),{},{showMetadata:i})):"options"===t.type?Object(r.jsx)(ze,Object(s.a)(Object(s.a)({},t),{},{onSelection:n,showMetadata:i})):Object(r.jsx)(fe,{children:"<DIALOGUE_CHANGED>"===t.text?"DIALOGUE CHANGED":t.text})}function Ie(e){var t=e.id,n=e.tags,i=e.speaker,o=e.text,a=e.showMetadata;return Object(r.jsxs)(De,{children:[i?Object(r.jsx)(Ce,{children:i}):void 0,Object(r.jsxs)(Pe,{children:[o," ",Object(r.jsx)(Ne,{id:t,tags:n,isVisible:a})]})]})}function ze(e){var t=e.id,n=e.tags,i=e.speaker,o=e.name,a=e.options,c=e.onSelection,l=e.selected,u=e.showMetadata;return Object(r.jsxs)(De,{children:[i?Object(r.jsx)(Ce,{children:i}):void 0,Object(r.jsxs)(Pe,{children:[o," ",Object(r.jsx)(Ne,{id:t,tags:n,isVisible:u}),Object(r.jsx)(Be,{children:a.map((function(e,t){return Object(r.jsx)(_e,{optionSelected:l,index:t,children:Object(r.jsxs)("span",{onClick:function(e){e.stopPropagation(),function(e){void 0===l&&c(e)}(t)},children:[e.label," ",Object(r.jsx)(Ne,Object(s.a)(Object(s.a)({},e),{},{isVisible:u}))]})},t)}))})]})]})}function Ne(e){var t=e.id,n=e.tags;return!e.isVisible||void 0===t&&void 0===n?Object(r.jsx)("span",{}):Object(r.jsxs)(Te,{"aria-label":"metadata",children:[void 0!==t?Object(r.jsxs)("span",{"aria-label":"line id",children:[Object(r.jsx)("label",{children:"id:"})," ",t]}):void 0," ",void 0!==n?Object(r.jsxs)("span",{"aria-label":"line tags",children:[Object(r.jsx)("label",{children:"tags:"})," ",n.join(", ")]}):void 0]})}function Ae(){var e=Object(u.a)(["\n  width: auto;\n  overflow: scroll;\n"]);return Ae=function(){return e},e}var Le=R.a.div(Ae());function Ve(e){var t=e.timeline,n=e.shouldShowExtraMetadata,i=e.singleBubblePresentation,a=e.addDialogueLine,c=e.style,l=e.dialogue,u=e.chooseOption,s=function(){var e=l.getContent();e&&"options"===e.type&&t.length>0&&"options"===t[t.length-1].type||(e||t[t.length-1])&&a(e)},d=function(e){l.choose(e),u(e),s()},b=Object(o.useRef)(null);return Object(o.useEffect)((function(){b.current.scrollIntoView({behavior:"smooth"})}),[t]),Object(r.jsxs)(Le,{onClick:s,style:c,"aria-label":"Interpreter Dialogue Timeline",children:[t&&t.length?"":Object(r.jsx)(fe,{children:"Dialogue not started. Click for next line."}),i?t.length?Object(r.jsx)(Me,{line:t[t.length-1],onSelection:d,showMetadata:n}):void 0:t.filter((function(e,n){var i;return!(e&&"<DIALOGUE_CHANGED>"===e.text&&e.text===(null===(i=t[n-1])||void 0===i?void 0:i.text))})).map((function(e,t){return Object(r.jsx)(Me,{line:e,onSelection:d,showMetadata:n},t)})),Object(r.jsx)("div",{ref:b})]})}function Ge(){var e=Object(u.a)(["\n  width: 90%;\n  margin: 10px;\n\n  thead > tr > td {\n    font-weight: 500;\n    padding-bottom: 5px;\n  }\n\n  tbody {\n    > tr:nth-child(even) {\n      background-color: #f3f3f3;\n    }\n    td {\n      padding: 2px 0px;\n    }\n  }\n"]);return Ge=function(){return e},e}function He(){var e=Object(u.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  cursor: pointer;\n"]);return He=function(){return e},e}function Re(){var e=Object(u.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  overflow: scroll;\n"]);return Re=function(){return e},e}var Fe=R.a.div(Re()),We=R.a.div(He()),$e=R.a.table(Ge());function Ze(e){var t=e.events,n=e.hideDebugPane,i=Object(ne.a)(e,["events","hideDebugPane"]),o=t.reduce((function(e,t){var n="".concat(t.type).concat(t.data.name),i=e[n];return i?(i.eventTime=t.eventTime,t.data.value&&(i.value=t.data.value),e):(e[n]={type:t.type,name:t.data.name,value:t.data.value,eventTime:t.eventTime},e)}),{}),a=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.toLocaleTimeString())};return Object(r.jsxs)(Fe,Object(s.a)(Object(s.a)({"aria-label":"Debug pane"},i),{},{children:[Object(r.jsx)(We,{children:Object(r.jsx)(F.a,{icon:W.n,onClick:n,"aria-label":"Close debug pane"})}),Object(r.jsxs)($e,{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:"Type"}),Object(r.jsx)("td",{children:"Name"}),Object(r.jsx)("td",{children:"Value"}),Object(r.jsx)("td",{children:"Time"})]})}),Object(r.jsx)("tbody",{children:Object.keys(o).map((function(e){var t=o[e];return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:t.type}),Object(r.jsx)("td",{children:t.name}),Object(r.jsx)("td",{children:void 0!==t.value?t.value.toString():void 0}),Object(r.jsx)("td",{children:a(t.eventTime)})]},e)}))})]})]}))}function Ue(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return Ue=function(){return e},e}var qe=R.a.div(Ue());function Je(e){var t,n,i=e.content,a=e.currentBlock,c=e.timeline,l=e.shouldShowExtraMetadata,u=e.shouldShowDebugPane,d=e.debugPaneDirection,b=void 0===d?"horizontal":d,h=e.singleBubblePresentation,g=(e.clydeDocument,e.setBlock),f=e.addDialogueLine,j=e.clearTimeline,x=e.showExtraMetadata,p=e.hideExtraMetadata,v=e.showDebugPane,O=e.hideDebugPane,m=e.enableSingleBubbleDialogue,y=e.disableSingleBubbleDialogue,k=e.chooseOption,w=e.notifyEvent,S=e.clearEvents,E=e.events,D=Object(ne.a)(e,["content","currentBlock","timeline","shouldShowExtraMetadata","shouldShowDebugPane","debugPaneDirection","singleBubblePresentation","clydeDocument","setBlock","addDialogueLine","clearTimeline","showExtraMetadata","hideExtraMetadata","showDebugPane","hideDebugPane","enableSingleBubbleDialogue","disableSingleBubbleDialogue","chooseOption","notifyEvent","clearEvents","events"]),P=Object(o.useState)(""),C=Object(H.a)(P,2),B=C[0],_=C[1],T=Object(o.useState)(),M=Object(H.a)(T,2),I=M[0],z=M[1],N=I,A=function(e,t){w({type:e,data:t,eventTime:Date.now()})};try{t=Object(be.a)("".concat(i||"")),N&&i===B||(_(i),N=Object(de.a)(t),a&&(N.start(a),g(a)),z(N),N.on(N.events.VARIABLE_CHANGED,(function(e){A("variable",e)})),N.on(N.events.EVENT_TRIGGERED,(function(e){A("event",e)})))}catch(L){n=L.message,t=Object(be.a)("".concat(B||""))}return Object(r.jsxs)(qe,Object(s.a)(Object(s.a)({},D),{},{"aria-label":"Clyde interpreter",children:[Object(r.jsx)(ve,{doc:t,currentBlock:a,timeline:c,shouldShowExtraMetadata:l,shouldShowDebugPane:u,singleBubblePresentation:h,setBlock:g,clearTimeline:j,showExtraMetadata:x,hideExtraMetadata:p,showDebugPane:v,hideDebugPane:O,enableSingleBubbleDialogue:m,disableSingleBubbleDialogue:y,addDialogueLine:f,dialogue:N,chooseOption:k,clearEvents:S}),Object(r.jsxs)(J,{direction:b,defaultSizes:[80,20],style:{height:"calc(100% - 40px)"},children:[!n&&i&&""!==i?Object(r.jsx)(Ve,{dialogue:N,currentBlock:a,timeline:c,shouldShowExtraMetadata:l,singleBubblePresentation:h,setBlock:g,addDialogueLine:f,clearTimeline:j,chooseOption:k}):n?Object(r.jsx)(je,{style:{backgroundColor:"#eeefef"},children:n}):Object(r.jsx)(fe,{children:"Nothing to show."}),u?Object(r.jsx)(Ze,{events:E,hideDebugPane:O}):void 0]})]}))}function Ye(){var e=Object(u.a)(["\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 8px 12px;\n\n  &:focus, &:hover {\n    background-color: #f1f1f1;\n  }\n"]);return Ye=function(){return e},e}function Ke(){var e=Object(u.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(u.a)(["\n  text-align: right;\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(u.a)(["\n  margin-bottom: 10px;\n  padding-bottom: 10px;\n  text-align: center;\n  border-bottom: 1px solid #ccc;\n"]);return Xe=function(){return e},e}function et(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  min-width: 500px;\n  min-height: 300px;\n  color: #333;\n  padding: 10px;\n"]);return et=function(){return e},e}function tt(){var e=Object(u.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n"]);return tt=function(){return e},e}var nt=R.a.div(tt()),it=R.a.div(et()),rt=R.a.div(Xe()),ot=R.a.div(Qe()),at=R.a.div(Ke()),ct=R.a.button(Ye());function lt(e){var t=e.title,n=e.actions,i=e.children;return Object(r.jsx)(nt,{children:Object(r.jsxs)(it,{children:[Object(r.jsx)(rt,{children:t}),Object(r.jsx)(at,{children:i}),Object(r.jsx)(ot,{children:n.map((function(e,t){return Object(r.jsx)(ct,{onClick:e.onClick,children:e.label},t)}))})]})})}function ut(){var e=Object(u.a)(['\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px;\n\n  > input {\n    margin-right: 10px;\n  }\n\n  > select, > input[type="number"] {\n    margin-left: 10px;\n  }\n']);return ut=function(){return e},e}var st=R.a.div(ut());function dt(e){var t=e.onCloseClick,n=e.updatePreference,i=e.preferences,o=function(e){n(e.target.name,e.target.checked)},a=function(e){n(e.target.name,Number(e.target.value))};return Object(r.jsxs)(lt,{title:"Editor preferences",actions:[{label:"Close",onClick:function(){return t()}}],children:[Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"highlightActiveLine",onChange:o,checked:i.highlightActiveLine}),Object(r.jsx)("label",{htmlFor:"highlightActiveLine",children:"Highlight active line"})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"showInvisibles",onChange:o,checked:i.showInvisibles}),Object(r.jsx)("label",{htmlFor:"showInvisibles",children:"Show invisibles"})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"vimMode",onChange:o,checked:i.vimMode}),Object(r.jsx)("label",{htmlFor:"vimMode",children:"Enable vim mode"})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"lineWrap",onChange:o,checked:i.lineWrap}),Object(r.jsx)("label",{htmlFor:"line_wrap",children:"Enable line wrap"})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"scrollPastEnd",onChange:o,checked:i.scrollPastEnd}),Object(r.jsx)("label",{htmlFor:"scrollPastEnd"})," Enable scroll past end"]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("input",{type:"checkBox",name:"useSoftTabs",onChange:o,checked:i.useSoftTabs}),Object(r.jsx)("label",{htmlFor:"useSoftTabs",children:"Enable soft tabs"})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("label",{htmlFor:"tabSize",children:"Tab size"}),Object(r.jsx)("input",{type:"number",name:"tabSize",max:"10",min:"1",onChange:a,value:i.tabSize})]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("label",{htmlFor:"fontSize",children:"Font size"}),Object(r.jsx)("input",{type:"number",name:"fontSize",max:"70",min:"1",onChange:a,value:i.fontSize}),"px"]}),Object(r.jsxs)(st,{children:[Object(r.jsx)("label",{htmlFor:"theme",children:"Theme"}),Object(r.jsx)("select",{name:"theme",value:i.theme,onChange:function(e){n(e.target.name,e.target.value)},children:[{value:"dracula",name:"Dracula"},{value:"monokai",name:"Monokai"},{value:"tomorrow_night_eighties",name:"Tomorrow Night Eighties"},{value:"tomorrow",name:"Tomorrow"},{value:"textmate",name:"Textmate"}].map((function(e,t){return Object(r.jsx)("option",{value:e.value,children:e.name},t)}))})]})]})}function bt(){var e=Object(u.a)(["\n  cursor: pointer;\n  position: relative;\n"]);return bt=function(){return e},e}function ht(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 40px;\n  font-size: 1.5em;\n  color: #444;\n  padding-left: 10px;\n  align-items: center;\n"]);return ht=function(){return e},e}function gt(){var e=Object(u.a)(["\n  height: 100%;\n  max-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return gt=function(){return e},e}var ft=R.a.div(gt()),jt=R.a.div(ht()),xt=R.a.span(bt());var pt=Object(b.b)((function(e,t){return Object(s.a)(Object(s.a)(Object(s.a)({},e.interfaceConfig),{},{editorDefaultValue:e.editor.currentValue,editorPreferences:e.editor.preferences},e.interpreter),t)}),(function(e){return{toggleEditor:function(t){e(x({state:t}))},toggleInterpreter:function(t){e(p({state:t}))},changeInterpreterSplitDirection:function(t){e(v({direction:t}))},setBlock:function(t){e(D(t))},addDialogueLine:function(t){e(P(t))},clearTimeline:function(){e(C())},showExtraMetadata:function(){e(B())},hideExtraMetadata:function(){e(_())},showDebugPane:function(){e(T())},hideDebugPane:function(){e(M())},enableSingleBubbleDialogue:function(){e(I())},disableSingleBubbleDialogue:function(){e(z())},chooseOption:function(t){e(N(t))},setDocumentContent:function(t){e(y(t))},notifyEvent:function(t){e(A(t))},clearEvents:function(){e(L())},updateEditorPreference:function(t,n){e(k({name:t,value:n}))}}}))((function(e){var t=e.isEditorEnabled,n=void 0===t||t,i=e.isInterpreterEnabled,a=void 0===i||i,c=e.toggleEditor,l=e.toggleInterpreter,u=e.interpreterSplitDirection,s=void 0===u?"horizontal":u,d=e.changeInterpreterSplitDirection,b=e.editorDefaultValue,h=e.setDocumentContent,g=e.editorPreferences,f=e.updateEditorPreference,j=e.currentBlock,x=e.timeline,p=e.shouldShowExtraMetadata,v=e.shouldShowDebugPane,O=e.singleBubblePresentation,m=e.document,y=e.setBlock,k=e.addDialogueLine,w=e.clearTimeline,S=e.showExtraMetadata,E=e.hideExtraMetadata,D=e.showDebugPane,P=e.hideDebugPane,C=e.enableSingleBubbleDialogue,B=e.disableSingleBubbleDialogue,_=e.chooseOption,T=e.events,M=e.notifyEvent,I=e.clearEvents,z=Object(o.useState)(!1),N=Object(H.a)(z,2),A=N[0],L=N[1],V=Object(o.useState)(!1),G=Object(H.a)(V,2),R=G[0],$=G[1],Z=function(){L(!A)};return Object(r.jsxs)(ft,{children:[Object(r.jsx)(jt,{children:Object(r.jsxs)(xt,{children:[Object(r.jsx)(F.a,{icon:W.c,onClick:Z,"aria-label":"Toggle settings menu"}),A?Object(r.jsxs)(ee,{onClick:Z,children:[Object(r.jsx)(te,{label:"Change split direction",onClick:function(){d("vertical"===s?"horizontal":"vertical")},icon:W.d,text:"Split mode: ".concat(s)}),a?Object(r.jsx)(te,{label:"Toggle editor",onClick:function(){return c(!n)},icon:W.b,text:"".concat(n?"Hide":"Show"," editor")}):void 0,n?Object(r.jsx)(te,{label:"Toggle interpreter",onClick:function(){return l(!a)},icon:W.g,text:"".concat(a?"Hide":"Show"," interpreter")}):void 0,Object(r.jsx)(te,{label:"Editor preferences",onClick:function(){$(!0)},icon:W.m,text:"Editor preferences"})]}):""]})}),Object(r.jsxs)(J,{direction:s,defaultSizes:[50,50],style:{height:"calc(100% - 40px)"},"aria-label":"Main panels",children:[n?Object(r.jsx)(se,{defaultValue:b,setDocumentContent:h,notifyChange:k,preferences:g}):void 0,a?Object(r.jsx)(Je,{content:b,currentBlock:j,timeline:x,shouldShowExtraMetadata:p,shouldShowDebugPane:v,singleBubblePresentation:O,clydeDocument:m,setBlock:y,addDialogueLine:k,clearTimeline:w,showExtraMetadata:S,hideExtraMetadata:E,showDebugPane:D,hideDebugPane:P,enableSingleBubbleDialogue:C,disableSingleBubbleDialogue:B,chooseOption:_,events:T,notifyEvent:M,clearEvents:I}):void 0]}),R?Object(r.jsx)(dt,{updatePreference:f,preferences:g,onCloseClick:function(){return $(!1)}}):void 0]})})),vt="clyde_editor_data",Ot=Object(d.a)({reducer:G,devTools:!1,preloadedState:function(){var e=function(){try{var e=localStorage.getItem(vt);if(null===e)return;return JSON.parse(e)}catch(t){return}}()||{editor:{currentValue:"",preferences:{theme:"dracula",fontSize:16,tabSize:4,highlightActiveLine:!1,lineWrap:!1,useSoftTabs:!0,showInvisibles:!1,scrollPastEnd:!1,vimMode:!1}}};return e.editor.currentValue||(e.editor.currentValue="--\n--\n-- This is a sample dialogue.\n--\n\nNarrator: Hello there!\nPlayer: Hi!\nNarrator: What do you want to talk about?\n  + Life\n    -> about life <-\n  + The universe\n    -> about the universe <-\n  * Everything else... #some_tag\n    -> about everything else <-\n  + Earth\n    -> about earth <-\n  + Nothing\n    -> goodbye <-\n\n\n== about life\nPlayer: I want to talk about life!\nNarrator: Well! That's complicated...\n<-\n\n\n== about the universe\nPlayer: I want to talk about the universe!\n( shuffle\n  - Narrator: That's too complex!\n  - Narrator: Maybe another time.\n  - Narrator: It's big...\n              I think that's all.\n)\n<-\n\n\n== about everything else\nPlayer: What about everything else?\nNarrator: I don't have time for this... #bored\n<-\n\n== about earth\nPlayer: What do you know about earth?\n( sequence\n - Narrator: It's mostly harmless.\n - Narrator: This again?\n             I've already told you, mostly harmless.\n -\n   Narrator: Why do you want to know so much about it?\n   Player: I don't know...\n   Narrator: So.. don't ask!\n\n - Narrator: I'm not talking about this anymore.\n)\n<-\n\n== goodbye\n{ not alreadyIntroduced }\n  Narrator: It was nice to meet you!\n  Player: I can say the same. See you around!\n  { set alreadyIntroduced = true }\nPlayer: Bye!\nNarrator: Good bye!\n"),{editor:e.editor,interpreter:Object(s.a)({document:void 0,events:[],timeline:[]},e.interpreter)}}()});Ot.subscribe(g()((function(){var e=Ot.getState(),t=e.interpreter,n=t.shouldShowExtraMetadata,i=t.shouldShowDebugPane,r=t.debugPaneDirection,o=t.singleBubblePresentation;!function(e){try{localStorage.setItem(vt,JSON.stringify(e))}catch(t){}}({editor:{preferences:e.editor.preferences,currentValue:e.editor.currentValue},interpreter:{shouldShowExtraMetadata:n,shouldShowDebugPane:i,debugPaneDirection:r,singleBubblePresentation:o}})}),1e3));var mt=function(){return Object(r.jsx)(b.a,{store:Ot,children:Object(r.jsx)(pt,{})})};function yt(){var e=Object(u.a)(["\n  margin-top: 30px;\n"]);return yt=function(){return e},e}function kt(){var e=Object(u.a)(["\n  font-family: 'Lato', sans-serif;\n  margin: 10px 40px;\n  p {\n    margin-bottom: 10px;\n  }\n\n  a {\n    margin: 5px 10px;\n  }\n"]);return kt=function(){return e},e}function wt(){var e=Object(u.a)(["\n  font-size: 2em;\n  font-weight: 500;\n"]);return wt=function(){return e},e}function St(){var e=Object(u.a)(["\n  height: 100%;\n  max-height: 100vh;\n  max-width: 1200px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 5px;\n  margin: 0 auto;\n"]);return St=function(){return e},e}var Et=R.a.div(St()),Dt=R.a.h1(wt()),Pt=R.a.div(kt()),Ct=R.a.div(yt());function Bt(){return Object(r.jsxs)(Et,{children:[Object(r.jsxs)(Pt,{children:[Object(r.jsx)(Dt,{children:"Clyde Dialogue Language"}),Object(r.jsx)(Ct,{children:Object(r.jsxs)("p",{children:["Clyde is a language for writing dialogues.",Object(r.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde",children:"Github"}),Object(r.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde/blob/master/LANGUAGE.md",children:"Language Docs"}),Object(r.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde/tree/master/cli",children:"CLI"}),Object(r.jsx)("a",{href:"https://github.com/viniciusgerevini/godot-clyde-dialogue",children:"Godot Plugin"})]})})]}),Object(r.jsx)(mt,{})]})}l.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(Bt,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.a85495f5.chunk.js.map