(this["webpackJsonpclyde-editor"]=this["webpackJsonpclyde-editor"]||[]).push([[0],{48:function(e,t,n){},49:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r,a=n(0),i=n(1),o=n.n(i),c=n(21),l=n.n(c),u=(n(48),n(49),n(3)),s=n(7),d=n(6),b=n(23),h=n(36),f=n.n(h),j=n(9),g=n(2),v=Object(d.b)("editor/interface/toggle_editor"),p=Object(d.b)("editor/interface/toggle_intepreter"),x=Object(d.b)("editor/interface/change_interpreter_split_direction");var O,m=Object(d.c)({isEditorEnabled:!0,isInterpreterEnabled:!0,interpreterSplitDirection:"vertical"},(r={},Object(g.a)(r,v,(function(e,t){return e.isEditorEnabled=t.payload.state,e})),Object(g.a)(r,p,(function(e,t){return e.isInterpreterEnabled=t.payload.state,e})),Object(g.a)(r,x,(function(e,t){return e.interpreterSplitDirection=t.payload.direction,e})),r)),k=Object(d.b)("editor/editor/set_document_content"),y=Object(d.b)("editor/editor/update_preference");var w,E=Object(d.c)({currentValue:"",preferences:{theme:"dracula",fontSize:16,tabSize:4,highlightActiveLine:!1,lineWrap:!1,useSoftTabs:!0,showInvisibles:!1,scrollPastEnd:!1,vimMode:!1}},(O={},Object(g.a)(O,k,(function(e,t){return e.currentValue=t.payload,e})),Object(g.a)(O,y,(function(e,t){return e.preferences[t.payload.name]=t.payload.value,e})),O)),S=n(13),D=Object(d.b)("editor/interpreter/set_dialogue_block"),T=Object(d.b)("editor/interpreter/add_dialogue_line"),_=Object(d.b)("editor/interpreter/clear_timeline"),C=Object(d.b)("editor/interpreter/show_metadata"),P=Object(d.b)("editor/interpreter/hide_metadata"),B=Object(d.b)("editor/interpreter/show_debug_pane"),I=Object(d.b)("editor/interpreter/hide_debug_pane"),A=Object(d.b)("editor/interpreter/enable_single_bubble_dialogue"),N=Object(d.b)("editor/interpreter/disable_single_bubble_dialogue"),L=Object(d.b)("editor/interpreter/choose_option"),M=Object(d.b)("editor/interpreter/notify_event"),z=Object(d.b)("editor/interpreter/clear_events");var F=Object(d.c)({currentBlock:void 0,timeline:[],shouldShowExtraMetadata:!1,shouldShowDebugPane:!1,singleBubblePresentation:!1,document:void 0,events:[]},(w={},Object(g.a)(w,D,(function(e,t){return e.currentBlock=t.payload,e})),Object(g.a)(w,T,(function(e,t){return e.timeline=[].concat(Object(S.a)(e.timeline),[t.payload]),e})),Object(g.a)(w,_,(function(e,t){return e.timeline=[],e})),Object(g.a)(w,C,(function(e){return e.shouldShowExtraMetadata=!0,e})),Object(g.a)(w,P,(function(e){return e.shouldShowExtraMetadata=!1,e})),Object(g.a)(w,B,(function(e){return e.shouldShowDebugPane=!0,e})),Object(g.a)(w,I,(function(e){return e.shouldShowDebugPane=!1,e})),Object(g.a)(w,A,(function(e){return e.singleBubblePresentation=!0,e})),Object(g.a)(w,N,(function(e){return e.singleBubblePresentation=!1,e})),Object(g.a)(w,L,(function(e,t){return e.timeline.length&&"options"===e.timeline[e.timeline.length-1].type?(e.timeline[e.timeline.length-1].selected=t.payload,e):e})),Object(g.a)(w,M,(function(e,t){return e.events=[].concat(Object(S.a)(e.events),[t.payload]),e})),Object(g.a)(w,z,(function(e,t){return e.events=[],e})),w)),R=Object(j.c)({interfaceConfig:m,editor:E,interpreter:F}),V=n(14),G=n(4),H=n(10),Z=n(8);function $(){var e=Object(u.a)(["\n  background-color: #eee;\n  background-repeat: no-repeat;\n  background-position: 50%;\n  flex-basis: ","px;\n  cursor: ",";\n"]);return $=function(){return e},e}function W(){var e=Object(u.a)(["\n  display: flex;\n  align-items: stretch;\n  flex-grow: 1;\n  height: auto;\n  flex-direction: ",";\n  max-height: 100%;\n"]);return W=function(){return e},e}var q=G.a.div(W(),(function(e){return"horizontal"===e.direction?"column":"row"})),U=G.a.div($(),4,(function(e){return"horizontal"===e.direction?"row-resize":"col-resize"}));function K(e){var t=e.direction,n=void 0===t?"vertical":t,r=e.defaultSizes,i=e.style,c=Array.isArray(e.children)?e.children:[e.children],l=c.filter((function(e){return e&&""!==e})),u=function(){if(1===l.length)return["100%"];if(r){var e=r.map((function(e){return"calc(".concat(e,"% - 2px)")}));if(r.length===l.length)return e;var t=l.reduce((function(e,t){var n=c.indexOf(t);return e+r[n]}),0);if(t<100){var n=c.indexOf(l[l.length-1]);e[n]="calc(".concat(r[n]+(100-t),"% - 2px)")}return e}var a=Math.floor(100/l.length);return Array(c.length).fill("calc(".concat(a,"% - 2px)"))}(),s=c.reduce((function(e,t,r){if(!t)return e;var i=l.indexOf(t);return i>0&&i<l.length&&e.push(Object(a.jsx)(U,{direction:n})),e.push(o.a.cloneElement(t,{key:r,style:{flexBasis:u[r],flexGrow:1}})),e}),[]);return Object(a.jsx)(q,{direction:n,style:i,children:s.map((function(e,t){return o.a.cloneElement(e,{key:t})}))})}function J(){var e=Object(u.a)(["\n  padding: 6px 15px;\n  display: flex;\n  flex-direction: row;\n\n  &:hover {\n    background-color: #eee;\n  }\n\n  > svg {\n    flex-basis: 30px;\n    margin-right: 5px;\n  }\n"]);return J=function(){return e},e}function Q(){var e=Object(u.a)(["\n  position: absolute;\n  display: 'flex';\n  flex-direction: column;\n  width: auto;\n  min-width: 230px;\n  z-index: 9999;\n  background-color: #fff;\n  font-size: 1rem;\n  padding: 10px 0px;\n  border: 1px solid #eee;\n  border-radius: 5px;\n"]);return Q=function(){return e},e}var Y=G.a.div(Q()),X=G.a.div(J());function ee(e){var t=e.children,n=e.onClick,r=e.style;return Object(a.jsx)(Y,{onClick:n,style:r,children:o.a.Children.toArray(t)})}function te(e){var t=e.label,n=e.icon,r=e.onClick,i=e.text;return Object(a.jsxs)(X,{"aria-label":t,onClick:r,children:[Object(a.jsx)(H.a,{icon:n})," ",i]})}var ne=n(16),re=n(40),ae=n.n(re),ie=n(41);n(70),n(71),n(72),n(73),n(74),n(75);function oe(){var e=[{token:"constant.language.boolean",regex:/(true|false)/},{token:"constant.numeric",regex:/[0-9,.]+/},{token:"constant.string",regex:/(".*")/}],t=[{token:"keyword.operator",regex:/(isnt|ISNT)/},{token:"keyword.operator",regex:/(and|or|not|is|AND|OR|NOT|IS)/},{token:"keyword.operator",regex:/(&&|\|\||<=|>=|==|!=)/},{token:"keyword.operator",regex:/(\*|\+|-|\^|\/|%|<|>|!)/}],n=[{token:"keyword",regex:/(\})/,next:"start"}],r=[{token:"support.constant",regex:/OPTIONS_COUNT/}],a=[{token:"identifier",regex:/[a-zA-Z_][a-zA-Z0-9_]+/}];this.$rules={start:[{token:"comment",regex:/^\s*--.*$/},{token:["keyword","text","variable"],regex:/^(==)(\s*)([a-zA-Z0-9_ ]+)$/},{token:["text","keyword","text","support.constant"],regex:/(\s*)(->)(\s*)(END)$/},{token:["text","keyword","text","variable"],regex:/(\s*)(->)(\s*)([a-zA-Z0-9_ ]+)/},{token:["text","keyword","text"],regex:/(\s*)(<-)(\s*)/},{token:["text","keyword","text","support.constant"],regex:/^(\s*)(\()(\s*)((?:shuffle|once|sequence|shuffle once|shuffle sequence)*)$/},{token:["text","keyword"],regex:/^(\s*)(\))$/},{token:"keyword.control",regex:/^(\s*[*+>])/},{token:"keyword",regex:/(\{)/,next:"logicBlock"},{token:"constant.string",regex:/#[a-zA-Z0-9_]+/},{token:["variable","text","variable"],regex:/((?:\s*[a-zA-Z0-9_] +:)?\s*)(".*")((?:\$[a-zA-Z0-9_]+)?)/},{token:["variable","text","variable"],regex:/((?:\s*[a-zA-Z0-9_ ]+:)?\s*)([^\r\n#${]+)((?:\$[a-zA-Z0-9_]+)?)/}],logicBlock:[{token:"keyword.control",regex:/(set)/,next:"assignmentBlock"},{token:"keyword.control",regex:/(trigger)/,next:"eventBlock"},{token:"keyword.control",regex:/(when)/}].concat(r,t,e,a,n),assignmentBlock:[].concat(r,t,[{token:"keyword.operator",regex:/(\+=|-=|\*=|\/=|%=|\^=)/},{token:"keyword.operator",regex:/(=)/}],e,a,n),eventBlock:[].concat(a,n)},this.normalizeRules()}function ce(){var e=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]);return ce=function(){return e},e}var le=G.a.div(ce()),ue={theme:"dracula",fontSize:16,tabSize:4,highlightActiveLine:!1,lineWrap:!1,useSoftTabs:!0,showInvisibles:!1,scrollPastEnd:!1};function se(e){var t=e.defaultValue,n=e.setDocumentContent,r=e.notifyChange,i=e.preferences,o=void 0===i?ue:i,c=Object(ne.a)(e,["defaultValue","setDocumentContent","notifyChange","preferences"]),l=Object(ie.a)(),u=l.ref,d=l.width,b=void 0===d?500:d,h=l.height,f=void 0===h?500:h;return Object(a.jsx)(le,Object(s.a)(Object(s.a)({ref:u},c),{},{"aria-label":"Text editor",children:Object(a.jsx)(ae.a,{defaultValue:t,mode:"clyde",theme:o.theme,onBeforeLoad:function(e){var t;(t=e).define("ace/mode/clyde_highlight_rules",["require","exports","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t){var n=e("ace/lib/oop"),r=e("ace/mode/text_highlight_rules").TextHighlightRules;n.inherits(oe,r),t.ClydeHighlightRules=oe})),t.define("ace/mode/clyde",["require","exports","ace/lib/oop","ace/mode/text","ace/mode/clyde_highlight_rules"],(function(e,t){var n=e("ace/lib/oop"),r=e("ace/mode/text").Mode,a=e("ace/mode/clyde_highlight_rules").ClydeHighlightRules,i=function(){this.$id="ace/mode/clyde",this.HighlightRules=a,this.lineCommentStart="--",this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t),a=this.getTokenizer().getLineTokens(t,e).tokens;return a.length&&"comment"===a[a.length-1].type||"start"===e&&t.match(/^\s*(\(|\*|\+)/)&&(r+=n),r}};n.inherits(i,r),t.Mode=i}))},onChange:function(e){n(e),e!==t&&r({text:"<DIALOGUE_CHANGED>"})},name:"mainEditor",width:"".concat(b,"px"),height:"".concat(f,"px"),editorProps:{$blockScrolling:!0},fontSize:o.fontSize,tabSize:o.tabSize,debounceChangePeriod:1e3,keyboardHandler:o.vimMode?"vim":void 0,highlightActiveLine:o.highlightActiveLine,setOptions:{showPrintMargin:!1,wrapBehavioursEnabled:o.lineWrap,wrap:o.lineWrap,useSoftTabs:o.useSoftTabs,showInvisibles:o.showInvisibles,scrollPastEnd:o.scrollPastEnd,navigateWithinSoftTabs:!0}})}))}var de,be=n(42),he="TEXT",fe="INDENT",je="DEDENT",ge="OPTION",ve="STICKY_OPTION",pe="FALLBACK_OPTION",xe="SQR_BRACKET_OPEN",Oe="SQR_BRACKET_CLOSE",me="BRACKET_OPEN",ke="BRACKET_CLOSE",ye="EOF",we="SPEAKER",Ee="LINE_ID",Se="TAG",De="BLOCK",Te="DIVERT",_e="DIVERT_PARENT",Ce="VARIATIONS_MODE",Pe="-",Be="+",Ie="*",Ae="/",Ne="^",Le="%",Me="{",ze="}",Fe="AND",Re="OR",Ve="NOT",Ge="==, is",He="!=, isnt",Ze=">=",$e="<=",We="GREATER",qe="LESS",Ue="number",Ke="null",Je="boolean",Qe="string",Ye="identifier",Xe="set",et="trigger",tt="when",nt="=",rt="+=",at="-=",it="/=",ot="*=",ct="^=",lt="%=",ut=",",st="line break",dt="DEFAULT",bt="OPTION",ht="QSTRING",ft="LOGIC",jt="VARIATIONS",gt=(de={},Object(g.a)(de,he,"text"),Object(g.a)(de,fe,"INDENT"),Object(g.a)(de,je,"DEDENT"),Object(g.a)(de,ge,"*"),Object(g.a)(de,ve,"+"),Object(g.a)(de,pe,">"),Object(g.a)(de,xe,"["),Object(g.a)(de,Oe,"]"),Object(g.a)(de,me,"("),Object(g.a)(de,ke,")"),Object(g.a)(de,ye,"EOF"),Object(g.a)(de,we,"<speaker name>:"),Object(g.a)(de,Ee,"$id"),Object(g.a)(de,Se,"#tag"),Object(g.a)(de,De,"== <block name>"),Object(g.a)(de,Te,"-> <target name>"),Object(g.a)(de,_e,"<-"),Object(g.a)(de,Ce,"<variations mode>"),Object(g.a)(de,Me,"{"),Object(g.a)(de,ze,"}"),Object(g.a)(de,Fe,"&&, and"),Object(g.a)(de,Re,"||, or"),Object(g.a)(de,Ve," not, !"),Object(g.a)(de,Ge,"==, is"),Object(g.a)(de,He,"!=, isnt"),Object(g.a)(de,Ze,">="),Object(g.a)(de,$e,"<="),Object(g.a)(de,We,">"),Object(g.a)(de,qe,"<"),de);function vt(e){var t=gt[e];return t||e}function pt(e){var t=[0],n=0,r=0,a=0,i=e.length,o=[],c=[dt],l=function(e){c.unshift(e)},u=function(){c.length>1&&c.shift()},s=function(e){return c[0]===e},d=function(e,t,n){return e.slice(t,t+n.length)===n},b=function(){for(var t=r,i=a,o=[];n<e.length;){var c=e[n];if('"'===c)break;"\\"!==c||'"'!==e[n+1]?(o.push(c),n+=1,a+=1):(o.push(e[n+1]),n+=2,a+=2)}return xt(he,t,i,o.join("").trim())},h={"*":ge,"+":ve,">":pe},f=["is","isnt","or","and","not","true","false","null","set","trigger","when"],j=function(e,t){switch(e.toLowerCase()){case"not":return xt(Ve,r,t);case"and":return xt(Fe,r,t);case"or":return xt(Re,r,t);case"is":return xt(Ge,r,t);case"isnt":return xt(He,r,t);case"true":case"false":return xt(Je,r,t,e);case"null":return xt(Ke,r,t);case"set":return xt(Xe,r,t);case"trigger":return xt(et,r,t);case"when":return xt(tt,r,t)}},g=function(e,t){var i=a;return a+=t,n+=t,xt(e,r,i)},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=a;return a+=t,n+=t,xt(e,r,i)},p=function(){return'"'===e[n]?function(){var e=a;a+=1,n+=1;var t=b();return a+=1,n+=1,t.token=Qe,t.column=e,t}():"}"===e[n]?function(){var e=a;a+=1,n+=1,u();var t=xt(ze,r,e),i=x();return i?[t,i]:t}():d(e,n,"==")?g(Ge,2):d(e,n,"!=")?g(He,2):d(e,n,"&&")?g(Fe,2):d(e,n,"||")?g(Re,2):d(e,n,"<=")?g($e,2):d(e,n,">=")?g(Ze,2):d(e,n,"<")?g(qe,1):d(e,n,">")?g(We,1):"="===e[n]?v(nt):d(e,n,"-=")?v(at,2):d(e,n,"+=")?v(rt,2):d(e,n,"*=")?v(ot,2):d(e,n,"/=")?v(it,2):d(e,n,"^=")?v(ct,2):d(e,n,"%=")?v(lt,2):"+"===e[n]?v(Be,1):"-"===e[n]?v(Pe,1):"*"===e[n]?v(Ie,1):"/"===e[n]?v(Ae,1):"^"===e[n]?v(Ne,1):"%"===e[n]?v(Le,1):","===e[n]?v(ut,1):"!"===e[n]?function(){var e=a;return a+=1,n+=1,xt(Ve,r,e)}():e[n].match(/[0-9]/)?function(){for(var t=a,i="";e[n]&&e[n].match(/[0-9|.]/);)i+=e[n],n+=1,a+=1;return xt(Ue,r,t,i)}():e[n].match(/[A-Za-z]/)?function(){for(var t=a,i="";e[n]&&e[n].match(/[A-Z|a-z|0-9|_]/);)i+=e[n],n+=1,a+=1;return f.includes(i.toLowerCase())?j(i,t):xt(Ye,r,t,i.trim())}():void 0},x=function(){for(var t=n,i=a;" "===e[t];)t+=1,i+=1;if("\n"===e[t])return xt(st,r,i)},O=function(){for(var t=n-2;" "===e[t];)t-=1;if("\n"===e[t])return xt(st,r,0)};function m(){if(!s(ht)&&"-"===e[n]&&"-"===e[n+1])return function(){for(;e[n]&&"\n"!==e[n];)n+=1;n+=1,r+=1}();if(!s(ht)&&"\n"===e[n])return function(){for(;"\n"===e[n];)r+=1,n+=1,a=0;s(bt)&&u()}();if(!s(ft)&&(0===a&&e[n].match(/[\t ]/)||0===a&&t.length>1))return function(){for(var i=r,o=0;e[n]&&e[n].match(/[\t ]/);)o+=1,n+=1;if(o>t[0]){var c=t[0];return a+=o,t.unshift(o),xt(fe,i,c)}if(o!==t[0]){for(var l=[];o<t[0];)t.shift(),a=t[0],l.push(xt(je,r,a));return l}a=t[0]}();if(!s(ht)&&"{"===e[n])return function(){var e=a;a+=1,n+=1,l(ft);var t=xt(Me,r,e),i=O();return i?[i,t]:t}();if(s(ft)){var i=p();if(i)return i}return'"'===e[n]?(a+=1,n+=1,void(s(ht)?u():l(ht))):s(ht)?b():" "===e[n]?function(){for(;" "===e[n];)n+=1,a+=1}():"("===e[n]?function(){var t=a,i=[];for(a+=1,n+=1,l(jt);e[n]&&e[n].match(/[A-Z|a-z| ]/);)i.push(e[n]),n+=1,a+=1;var o=[xt(me,r,t)],c=i.join("").trim();return c.length&&o.push(xt(Ce,r,t+2,c)),o}():")"===e[n]?function(){var e=a;return a+=1,n+=1,u(),xt(ke,r,e)}():0===a&&"="===e[n]&&"="===e[n+1]?function(){var t=a,i=[];for(n+=2,a+=2;e[n]&&e[n].match(/[A-Z|a-z|0-9|_| ]/);)i.push(e[n]),n+=1,a+=1;return xt(De,r,t,i.join("").trim())}():"-"===e[n]&&">"===e[n+1]?function(){var t=a,i=[];for(n+=2,a+=2;e[n]&&e[n].match(/[A-Z|a-z|0-9|_| ]/);)i.push(e[n]),n+=1,a+=1;var o=xt(Te,r,t,i.join("").trim()),c=x();return c?[o,c]:o}():"<"===e[n]&&"-"===e[n+1]?function(){var e=a;n+=2,a+=2;var t=xt(_e,r,e),i=x();return i?[t,i]:t}():s(jt)&&"-"===e[n]?function(){var e=a;return a+=1,n+=1,xt(Pe,r,e)}():"*"===e[n]||"+"===e[n]||">"===e[n]?function(){var t=h[e[n]],i=a;return a+=1,n+=1,l(bt),xt(t,r,i)}():s(bt)&&["[","]"].includes(e[n])?function(){var t="["===e[n]?xe:Oe,i=a;return a+=1,n+=1,xt(t,r,i)}():"$"===e[n]?function(){var t=a,i=[];for(n+=1,a+=1;e[n]&&e[n].match(/[A-Z|a-z|0-9|_]/);)i.push(e[n]),n+=1,a+=1;return xt(Ee,r,t,i.join(""))}():"#"===e[n]?function(){var t=a,i=[];for(n+=1,a+=1;e[n]&&e[n].match(/[A-Z|a-z|0-9|_]/);)i.push(e[n]),n+=1,a+=1;return xt(Se,r,t,i.join(""))}():function(){for(var t=r,i=a,o=[];n<e.length;){var c=e[n];if(["\n","$","#","{"].includes(c)||s(bt)&&"]"===c)break;if("\\"!==c||"n"===e[n+1]){if(":"===c)return n+=1,a+=1,xt(we,t,i,o.join("").trim());o.push(c),n+=1,a+=1}else o.push(e[n+1]),n+=2,a+=2}return xt(he,t,i,o.join("").trim())}()}return{getAll:function(){for(var e=[];n<i;){var t=m();t&&(Array.isArray(t)?e=e.concat(t):e.push(t))}return n+=1,e.push(xt(ye,r,a)),e},next:function(){if(o.length)return o.shift();for(;n<i;){var e=m();if(e)return Array.isArray(e)?(o=e).shift():e}return n===i?(n+=1,xt(ye,r,a)):void 0}}}function xt(e,t,n,r){return{token:e,value:r,line:t,column:n}}var Ot,mt,kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{type:"document",content:e,blocks:t}},yt=function(e){return{type:"content",content:e}},wt=function(e,t,n,r){return{type:"line",value:e,speaker:t,id:n,tags:r}},Et=function(e){return"END"===e&&(e="<end>"),{type:"divert",target:e}},St=function(e){return{type:"variable",name:e}},Dt=function(e,t){return{type:"literal",name:e,value:t}},Tt=function(e,t){return{type:"conditional_content",conditions:e,content:t}},_t=function(e,t){return{type:"action_content",action:e,content:t}},Ct=function(e,t){return{type:"expression",name:e,elements:t}},Pt=function(e,t,n){return{type:"assignment",variable:e,operation:t,value:n}},Bt=function(e){return{type:"event",name:e}},It=["sequence","once","cycle","shuffle","shuffle sequence","shuffle once","shuffle cycle"],At=(Ot={},Object(g.a)(Ot,Fe,{precedence:1,associative:"LEFT"}),Object(g.a)(Ot,Re,{precedence:1,associative:"LEFT"}),Object(g.a)(Ot,Ge,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,He,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,We,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,qe,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,Ze,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,$e,{precedence:2,associative:"LEFT"}),Object(g.a)(Ot,Be,{precedence:3,associative:"LEFT"}),Object(g.a)(Ot,Pe,{precedence:3,associative:"LEFT"}),Object(g.a)(Ot,Le,{precedence:4,associative:"LEFT"}),Object(g.a)(Ot,Ie,{precedence:5,associative:"LEFT"}),Object(g.a)(Ot,Ae,{precedence:5,associative:"LEFT"}),Object(g.a)(Ot,Ne,{precedence:7,associative:"RIGHT"}),Ot),Nt=(mt={},Object(g.a)(mt,nt,"assign"),Object(g.a)(mt,rt,"assign_sum"),Object(g.a)(mt,at,"assign_sub"),Object(g.a)(mt,ot,"assign_mult"),Object(g.a)(mt,it,"assign_div"),Object(g.a)(mt,ct,"assign_pow"),Object(g.a)(mt,lt,"assign_mod"),mt);function Lt(e){var t,n,r=pt(e),a=[],i=!0,o=function(e,t){throw new Error('Unexpected token "'.concat(vt(e.token),'" on line ').concat(e.line+1," column ").concat(e.column+1,". Expected ").concat(t.map(vt).join(", ")," "))},c=function(e){a.length||a.push(r.next());var t=a.shift();return!e||t&&e.includes(t.token)||o(t,e),n=t},l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;a.length<t+1;){var n=r.next();if(!n)break;a.push(n)}var i=a[t];if(!e||i&&e.includes(i.token))return i},u=function e(){c([De]);for(var t,r,a=[(t=n.value,r=yt(s()),{type:"block",name:t,content:r})];l([De]);)a=a.concat(e());return a},s=function e(){var t,n=[we,he,ge,ve,pe,Te,_e,me,Me,st],r=l(n);if(!r)return[];switch(r.token){case we:case he:c([we,he]);var a=d();l([Me])?(c([Me]),t=[E(a)]):t=[a];break;case ge:case ve:case pe:t=[x()];break;case Te:case _e:t=[y()];break;case me:c([me]),t=[w()];break;case st:c([st]);case Me:c([Me]),l([Xe,et])?t=[E()]:(l([tt])&&c([tt]),t=[P()])}return l(n)&&(t=t.concat(e())),t},d=function(){return b()},b=function(){switch(n.token){case we:return h();case he:return f()}},h=function(){var e=n.value;c([he]);var t=b();return t.speaker=e,t},f=function e(){var t,r=n.value;if(l([Ee,Se])?(c([Ee,Se]),(t=j()).value=r):t=wt(r),i&&l([fe]))if(c([fe]),l([ge,ve,pe])){var a=x();a.id=t.id,a.name=t.value,a.tags=t.tags,t=a}else{for(;!l([je,ye]);){c([he]);var o=e();t.value+=" ".concat(o.value),o.id&&(t.id=o.id),o.tags&&(t.tags=o.tags)}c([je,ye])}return t},j=function(){switch(n.token){case Ee:return v();case Se:return p()}},v=function(){var e=n.value;if(l([Se])){c([Se]);var t=p();return t.id=e,t}return wt(void 0,void 0,e)},p=function(){var e=n.value;if(l([Ee,Se])){c([Ee,Se]);var t=j();return t.tags||(t.tags=[]),t.tags.unshift(e),t}return wt(void 0,void 0,void 0,[e])},x=function(){for(var e,t,n,r,a={type:"options",name:e,content:[],id:t,speaker:n,tags:r};l([ge,ve,pe]);)a.content.push(m());return l([je])&&c([je]),a},O=(t={},Object(g.a)(t,ge,"once"),Object(g.a)(t,ve,"sticky"),Object(g.a)(t,pe,"fallback"),t),m=function(){c([ge,ve,pe]);var e,t,r,a=O[n.token],o=[we,he,fe,xe,Me],u=[],b=!1;if(c(o),n.token===Me){var h=k();t=h.root,r=h.wrapper,c(o)}switch(n.token===xe&&(b=!0,c(o)),n.token){case we:case he:i=!1,e=d(),i=!0,b?c([Oe]):u.push(e)}if(l([Me])){c([Me]);var f=k();t?(r.content=f.wrapper,r=f.wrapper):(t=f.root,r=f.wrapper),c([st])}(n.token===fe||l([fe]))&&(n.token!==fe&&c([fe]),u=u.concat(s()),e||(e=u[0]),c([je,ye]));var j,g,v,p,x,m,y=(j=yt(u),g=a,v=e.value,p=e.id,x=e.speaker,m=e.tags,{type:"option",name:v,mode:g,content:j,id:p,speaker:x,tags:m});return t?(r.content=y,t):y},k=function(){for(var e,t;n.token===Me;){if(e){var r=T();t.content=r,t=r}else t=e=T();l([Me])&&c([Me])}return{root:e,wrapper:t}},y=function(){c([Te,_e]);var e,t=n;switch(t.token){case Te:e=Et(t.value);break;case _e:e=Et("<parent>")}return l([st])?(c([st]),e):(l([ye])||l([Me])&&(c([Me]),e=E(e)),e)},w=function(){var e=function(e){return{type:"variations",mode:e,content:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}("cycle");if(l([Ce])){var t=c([Ce]);if(!It.includes(t.value))throw new Error('Wrong variation mode set "'.concat(t.value,'". Valid modes: ').concat(It.join(", "),"."));e.mode=t.value}for(;l([fe,Pe]);)if(l([fe]))c([fe]);else{c([Pe]);var n=!1;if(l([fe])&&(c([fe]),n=!0),e.content.push(yt(s())),n){var r=e.content[e.content.length-1].content;"options"!==r[r.length-1].type&&c([je])}l([je])&&c([je])}return c([ke]),e},E=function e(t){var n=l([Xe,et]),r=D();if(t){var a=t;return l([Me])&&(c([Me]),a=e(t)),l([st])&&c([st]),n&&n.token!==tt?_t(r,a):Tt(r,a)}return l([st])?(c([st]),r):l([ye])?r:l([Me])?(c([Me]),n?_t(r,e()):Tt(r,e())):(c([we,he]),n?_t(r,d()):Tt(r,d()))},D=function(){return l([Xe])?_():l([et])?C():(l([tt])&&c([tt]),B())},T=function(){if(l([Xe])){var e=_();return _t(e)}if(l([et])){var t=C();return _t(t)}l([tt])&&c([tt]);var n=B();return Tt(n)},_=function(){c([Xe]);for(var e=[I()];l([ut]);)c([ut]),e.push(I());return c([ze]),function(e){return{type:"assignments",assignments:e}}(e)},C=function(){c([et]),c([Ye]);for(var e=[Bt(n.value)];l([ut]);)c([ut]),c([Ye]),e.push(Bt(n.value));return c([ze]),function(e){return{type:"events",events:e}}(e)},P=function(){var e,t=B();return l([Te,_e])?e=y():l([st])?(c([st]),c([fe]),e=yt(s()),c([je,ye])):l([Me])?(c([Me]),e=E()):(c([we,he]),e=d(),l([Me])&&(c([Me]),e=E(e))),Tt(t,e)},B=function(){var e;return l([Ye,Ve])&&(e=A()),c([ze]),e},I=function e(){c([Ye]);var t=St(n.value);if(l([ze]))return t;var r=Object.keys(Nt);return c(r),l([Ye])&&l([].concat(Object(S.a)(r),[ze]),1)?Pt(t,Nt[n.token],e()):Pt(t,Nt[n.token],A())},A=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=Object.keys(At),a=N();if(!l(r))return a;for(c(r);r.includes(n.token);){var i=n.token,o=At[n.token],u=o.precedence,s=o.associative;if(u<t)break;var d="LEFT"===s?u+1:u,b=e(d);a=L(i,a,b)}return a},N=function e(){switch(c([Ye,Ve,Ue,Qe,Je,Ke]),n.token){case Ve:return Ct("not",[e()]);case Ye:return St(n.value);case Ue:return t=n.value,Dt("number",Number(t));case Qe:return function(e){return Dt("string",e)}(n.value);case Je:return function(e){return Dt("boolean","true"===e)}(n.value);case Ke:return{type:"null"}}var t},L=function(e,t,n){var r,a=(r={},Object(g.a)(r,Be,"add"),Object(g.a)(r,Pe,"sub"),Object(g.a)(r,Ie,"mult"),Object(g.a)(r,Ae,"div"),Object(g.a)(r,Le,"mod"),Object(g.a)(r,Ne,"pow"),Object(g.a)(r,Fe,"and"),Object(g.a)(r,Re,"or"),Object(g.a)(r,Ge,"equal"),Object(g.a)(r,He,"not_equal"),Object(g.a)(r,We,"greater_than"),Object(g.a)(r,qe,"less_than"),Object(g.a)(r,Ze,"greater_or_equal"),Object(g.a)(r,$e,"less_or_equal"),r);return Ct(a[e],[t,n])},M=function(){var e=[ye,we,he,ge,ve,pe,Te,_e,me,Me],t=l();switch(t.token){case ye:return kt();case we:case he:case ge:case ve:case pe:case Te:case _e:case me:case Me:case st:var n=kt([yt(s())]);return l([De])&&(n.blocks=u()),n;case De:return kt([],u());default:o(t,e)}}();return l()&&c([ye]),M}function Mt(){var e=Object(u.a)(["\n  text-align: center;\n  width: auto;\n  background-color: #ffeeee;\n  margin: 10px 10px;\n  padding: 30px 20px;\n  border-radius: 5px;\n  cursor: default;\n  font-weight: 500;\n  display: flex;\n  justify-content: center;\n  white-space: pre-line;\n  line-height: 26px;\n"]);return Mt=function(){return e},e}function zt(){var e=Object(u.a)(["\n  text-align: center;\n  width: auto;\n  background-color: #eeeeee;\n  margin: 10px 10px;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: default;\n"]);return zt=function(){return e},e}var Ft=G.a.div(zt()),Rt=G.a.div(Mt());function Vt(){var e=Object(u.a)(["\n  cursor: pointer;\n  position: relative;\n  margin: 0px 20px;\n  > svg {\n    font-size: 1.5em;\n    &:hover {\n      color: #222;\n    }\n  }\n"]);return Vt=function(){return e},e}function Gt(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  color: #444;\n  padding: 0px 10px;\n  height: 40px;\n\n  > svg {\n    cursor: pointer;\n    font-size: 1.5em;\n    margin: 0px 20px;\n    &:hover {\n      color: #555;\n    }\n  }\n"]);return Gt=function(){return e},e}var Ht=G.a.div(Gt()),Zt=G.a.span(Vt());function $t(e){var t=e.doc,n=e.currentBlock,r=e.shouldShowExtraMetadata,o=e.shouldShowDebugPane,c=e.singleBubblePresentation,l=e.setBlock,u=e.clearTimeline,s=e.showExtraMetadata,d=e.hideExtraMetadata,b=e.showDebugPane,h=e.hideDebugPane,f=e.enableSingleBubbleDialogue,j=e.disableSingleBubbleDialogue,g=e.dialogue,v=e.addDialogueLine,p=e.chooseOption,x=e.clearEvents,O=Object(i.useState)(!1),m=Object(V.a)(O,2),k=m[0],y=m[1],w=function(){y(!k)},E=function e(){var t=g.getContent();return v(t),t&&"options"!==t.type?e():t};return Object(a.jsxs)(Ht,{children:[Object(a.jsx)(Wt,{document:t,currentBlock:n,onBlockSelected:function(e){l(e),u(),g.start(e)}}),Object(a.jsx)(H.a,{icon:Z.l,title:"Restart dialogue",onClick:function(){g.start(n),u()}}),Object(a.jsx)(H.a,{icon:Z.h,title:"Forward untill next choice",onClick:E}),Object(a.jsx)(H.a,{icon:Z.i,title:"Execute Poltergeist mode (auto anwser)",onClick:function e(){var t=E();if(t){var n=Math.floor(Math.random()*t.options.length);p(n),g.choose(n),e()}}}),Object(a.jsx)(H.a,{icon:Z.j,title:"Clear memory",onClick:function(){g.clearData(),v({type:"INTERPRETER_INFO",text:"Memory cleared"}),g.start(n),x(),u()}}),Object(a.jsx)(H.a,{icon:c?Z.f:Z.e,title:"Set ".concat(c?"multi":"single"," bubble dialogue"),onClick:function(){c?j():f()}}),Object(a.jsxs)(Zt,{children:[Object(a.jsx)(H.a,{icon:Z.c,onClick:w,title:"Interpreter options"}),k?Object(a.jsxs)(ee,{onClick:w,style:{width:"280px"},children:[Object(a.jsx)(te,{label:"Toggle extra metadata",onClick:function(){r?d():s()},icon:Z.k,text:"".concat(r?"Hide":"Show"," metadata")}),Object(a.jsx)(te,{label:"Toggle debug pane",onClick:function(){o?h():b()},icon:Z.a,text:"".concat(o?"Hide":"Show"," debug pane")})]}):""]})]})}function Wt(e){var t=e.document,n=e.currentBlock,r=e.onBlockSelected,i=[].concat(Object(S.a)(t.content.length>0?["default"]:[]),Object(S.a)(t.blocks.map((function(e){return e.name}))));return Object(a.jsx)("div",{children:Object(a.jsx)("select",{value:n,onChange:function(e){"default"!==e.target.value?r(e.target.value):r()},"aria-label":"Block selector",children:i.map((function(e,t){return Object(a.jsx)("option",{value:e,children:e},t)}))})})}function qt(){var e=Object(u.a)(["\n  color: #444;\n  font-weight: normal;\n  background-color: rgba(245,235,208, 1);\n  opacity: 0.8;\n  border-radius: 5px;\n  padding-right: 10px;\n  margin-left: 10px;\n\n  label {\n    margin-left: 10px;\n    font-weight: 500;\n  }\n"]);return qt=function(){return e},e}function Ut(){var e=Object(u.a)(["\n  position: relative;\n  opacity: ",";\n  ","\n  cursor: ",";\n  margin: 4px;\n\n  > span:hover {\n    ","\n  }\n"]);return Ut=function(){return e},e}function Kt(){var e=Object(u.a)(["\n  margin-left: 10px;\n  list-style-type: decimal;\n  list-style-position: inside;\n"]);return Kt=function(){return e},e}function Jt(){var e=Object(u.a)(["\n  margin-bottom: 5px;\n  font-weight: 500;\n"]);return Jt=function(){return e},e}function Qt(){var e=Object(u.a)(["\n"]);return Qt=function(){return e},e}function Yt(){var e=Object(u.a)(["\n  width: auto;\n  background-color: #fff5da;\n  color: #34383c;\n  margin: 10px 10px;\n  padding: 10px 20px;\n  border-radius: 5px;\n  cursor: default;\n  position: relative;\n"]);return Yt=function(){return e},e}var Xt=G.a.div(Yt()),en=G.a.div(Qt()),tn=G.a.div(Jt()),nn=G.a.ol(Kt()),rn=G.a.li(Ut(),(function(e){return void 0!==e.optionSelected&&e.optionSelected!==e.index?.5:1}),(function(e){return e.optionSelected===e.index?"font-weight: 600;":""}),(function(e){return void 0===e.optionSelected?"pointer":"default"}),(function(e){return void 0!==e.optionSelected?"":"font-weight: 600;"})),an=G.a.span(qt());function on(e){var t=e.line,n=e.onSelection,r=e.showMetadata;return void 0===t?Object(a.jsx)(Ft,{children:"DIALOGUE ENDED"}):"line"===t.type?Object(a.jsx)(cn,Object(s.a)(Object(s.a)({},t),{},{showMetadata:r})):"options"===t.type?Object(a.jsx)(ln,Object(s.a)(Object(s.a)({},t),{},{onSelection:n,showMetadata:r})):Object(a.jsx)(Ft,{children:"<DIALOGUE_CHANGED>"===t.text?"DIALOGUE CHANGED":t.text})}function cn(e){var t=e.id,n=e.tags,r=e.speaker,i=e.text,o=e.showMetadata;return Object(a.jsxs)(Xt,{children:[r?Object(a.jsx)(tn,{children:r}):void 0,Object(a.jsxs)(en,{children:[i," ",Object(a.jsx)(un,{id:t,tags:n,isVisible:o})]})]})}function ln(e){var t=e.id,n=e.tags,r=e.speaker,i=e.name,o=e.options,c=e.onSelection,l=e.selected,u=e.showMetadata;return Object(a.jsxs)(Xt,{children:[r?Object(a.jsx)(tn,{children:r}):void 0,Object(a.jsxs)(en,{children:[i," ",Object(a.jsx)(un,{id:t,tags:n,isVisible:u}),Object(a.jsx)(nn,{children:o.map((function(e,t){return Object(a.jsx)(rn,{optionSelected:l,index:t,children:Object(a.jsxs)("span",{onClick:function(e){e.stopPropagation(),function(e){void 0===l&&c(e)}(t)},children:[e.label," ",Object(a.jsx)(un,Object(s.a)(Object(s.a)({},e),{},{isVisible:u}))]})},t)}))})]})]})}function un(e){var t=e.id,n=e.tags;return!e.isVisible||void 0===t&&void 0===n?Object(a.jsx)("span",{}):Object(a.jsxs)(an,{"aria-label":"metadata",children:[void 0!==t?Object(a.jsxs)("span",{"aria-label":"line id",children:[Object(a.jsx)("label",{children:"id:"})," ",t]}):void 0," ",void 0!==n?Object(a.jsxs)("span",{"aria-label":"line tags",children:[Object(a.jsx)("label",{children:"tags:"})," ",n.join(", ")]}):void 0]})}function sn(){var e=Object(u.a)(["\n  width: auto;\n  overflow: scroll;\n"]);return sn=function(){return e},e}var dn=G.a.div(sn());function bn(e){var t=e.timeline,n=e.shouldShowExtraMetadata,r=e.singleBubblePresentation,o=e.addDialogueLine,c=e.style,l=e.dialogue,u=e.chooseOption,s=function(){var e=l.getContent();e&&"options"===e.type&&t.length>0&&"options"===t[t.length-1].type||(e||t[t.length-1])&&o(e)},d=function(e){l.choose(e),u(e),s()},b=Object(i.useRef)(null);return Object(i.useEffect)((function(){b.current.scrollIntoView({behavior:"smooth"})}),[t]),Object(a.jsxs)(dn,{onClick:s,style:c,"aria-label":"Interpreter Dialogue Timeline",children:[t&&t.length?"":Object(a.jsx)(Ft,{children:"Dialogue not started. Click for next line."}),r?t.length?Object(a.jsx)(on,{line:t[t.length-1],onSelection:d,showMetadata:n}):void 0:t.filter((function(e,n){var r;return!(e&&"<DIALOGUE_CHANGED>"===e.text&&e.text===(null===(r=t[n-1])||void 0===r?void 0:r.text))})).map((function(e,t){return Object(a.jsx)(on,{line:e,onSelection:d,showMetadata:n},t)})),Object(a.jsx)("div",{ref:b})]})}function hn(){var e=Object(u.a)(["\n  width: 90%;\n  margin: 10px;\n\n  thead > tr > td {\n    font-weight: 500;\n    padding-bottom: 5px;\n  }\n\n  tbody {\n    > tr:nth-child(even) {\n      background-color: #f3f3f3;\n    }\n    td {\n      padding: 2px 0px;\n    }\n  }\n"]);return hn=function(){return e},e}function fn(){var e=Object(u.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  cursor: pointer;\n"]);return fn=function(){return e},e}function jn(){var e=Object(u.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  overflow: scroll;\n"]);return jn=function(){return e},e}var gn=G.a.div(jn()),vn=G.a.div(fn()),pn=G.a.table(hn());function xn(e){var t=e.events,n=e.hideDebugPane,r=Object(ne.a)(e,["events","hideDebugPane"]),i=t.reduce((function(e,t){var n="".concat(t.type).concat(t.data.name),r=e[n];return r?(r.eventTime=t.eventTime,t.data.value&&(r.value=t.data.value),e):(e[n]={type:t.type,name:t.data.name,value:t.data.value,eventTime:t.eventTime},e)}),{}),o=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.toLocaleTimeString())};return Object(a.jsxs)(gn,Object(s.a)(Object(s.a)({"aria-label":"Debug pane"},r),{},{children:[Object(a.jsx)(vn,{children:Object(a.jsx)(H.a,{icon:Z.n,onClick:n,"aria-label":"Close debug pane"})}),Object(a.jsxs)(pn,{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:"Type"}),Object(a.jsx)("td",{children:"Name"}),Object(a.jsx)("td",{children:"Value"}),Object(a.jsx)("td",{children:"Time"})]})}),Object(a.jsx)("tbody",{children:Object.keys(i).map((function(e){var t=i[e];return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t.type}),Object(a.jsx)("td",{children:t.name}),Object(a.jsx)("td",{children:void 0!==t.value?t.value.toString():void 0}),Object(a.jsx)("td",{children:o(t.eventTime)})]},e)}))})]})]}))}function On(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return On=function(){return e},e}var mn=G.a.div(On());function kn(e){var t,n,r=e.content,o=e.currentBlock,c=e.timeline,l=e.shouldShowExtraMetadata,u=e.shouldShowDebugPane,d=e.debugPaneDirection,b=e.singleBubblePresentation,h=(e.clydeDocument,e.setBlock),f=e.addDialogueLine,j=e.clearTimeline,g=e.showExtraMetadata,v=e.hideExtraMetadata,p=e.showDebugPane,x=e.hideDebugPane,O=e.enableSingleBubbleDialogue,m=e.disableSingleBubbleDialogue,k=e.chooseOption,y=e.notifyEvent,w=e.clearEvents,E=e.events,S=Object(ne.a)(e,["content","currentBlock","timeline","shouldShowExtraMetadata","shouldShowDebugPane","debugPaneDirection","singleBubblePresentation","clydeDocument","setBlock","addDialogueLine","clearTimeline","showExtraMetadata","hideExtraMetadata","showDebugPane","hideDebugPane","enableSingleBubbleDialogue","disableSingleBubbleDialogue","chooseOption","notifyEvent","clearEvents","events"]),D=Object(i.useState)(""),T=Object(V.a)(D,2),_=T[0],C=T[1],P=Object(i.useState)(),B=Object(V.a)(P,2),I=B[0],A=B[1],N=I,L=function(e,t){y({type:e,data:t,eventTime:Date.now()})};try{t=Lt("".concat(r||"")),N&&r===_||(C(r),N=Object(be.a)(t),o&&(N.start(o),h(o)),A(N),N.on(N.events.VARIABLE_CHANGED,(function(e){L("variable",e)})),N.on(N.events.EVENT_TRIGGERED,(function(e){L("event",e)})))}catch(M){n=M.message,t=Lt("".concat(_||""))}return Object(a.jsxs)(mn,Object(s.a)(Object(s.a)({},S),{},{"aria-label":"Clyde interpreter",children:[Object(a.jsx)($t,{doc:t,currentBlock:o,timeline:c,shouldShowExtraMetadata:l,shouldShowDebugPane:u,singleBubblePresentation:b,setBlock:h,clearTimeline:j,showExtraMetadata:g,hideExtraMetadata:v,showDebugPane:p,hideDebugPane:x,enableSingleBubbleDialogue:O,disableSingleBubbleDialogue:m,addDialogueLine:f,dialogue:N,chooseOption:k,clearEvents:w}),Object(a.jsxs)(K,{direction:d,defaultSizes:[80,20],style:{height:"calc(100% - 40px)"},children:[!n&&r&&""!==r?Object(a.jsx)(bn,{dialogue:N,currentBlock:o,timeline:c,shouldShowExtraMetadata:l,singleBubblePresentation:b,setBlock:h,addDialogueLine:f,clearTimeline:j,chooseOption:k}):n?Object(a.jsx)(Rt,{style:{backgroundColor:"#eeefef"},children:n}):Object(a.jsx)(Ft,{children:"Nothing to show."}),u?Object(a.jsx)(xn,{events:E,hideDebugPane:x}):void 0]})]}))}function yn(){var e=Object(u.a)(["\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  padding: 8px 12px;\n\n  &:focus, &:hover {\n    background-color: #f1f1f1;\n  }\n"]);return yn=function(){return e},e}function wn(){var e=Object(u.a)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n"]);return wn=function(){return e},e}function En(){var e=Object(u.a)(["\n  text-align: right;\n"]);return En=function(){return e},e}function Sn(){var e=Object(u.a)(["\n  margin-bottom: 10px;\n  padding-bottom: 10px;\n  text-align: center;\n  border-bottom: 1px solid #ccc;\n"]);return Sn=function(){return e},e}function Dn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: #fff;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  min-width: 500px;\n  min-height: 300px;\n  color: #333;\n  padding: 10px;\n"]);return Dn=function(){return e},e}function Tn(){var e=Object(u.a)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n"]);return Tn=function(){return e},e}var _n=G.a.div(Tn()),Cn=G.a.div(Dn()),Pn=G.a.div(Sn()),Bn=G.a.div(En()),In=G.a.div(wn()),An=G.a.button(yn());function Nn(e){var t=e.title,n=e.actions,r=e.children;return Object(a.jsx)(_n,{children:Object(a.jsxs)(Cn,{children:[Object(a.jsx)(Pn,{children:t}),Object(a.jsx)(In,{children:r}),Object(a.jsx)(Bn,{children:n.map((function(e,t){return Object(a.jsx)(An,{onClick:e.onClick,children:e.label},t)}))})]})})}function Ln(){var e=Object(u.a)(['\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 4px 10px;\n\n  > input {\n    margin-right: 10px;\n  }\n\n  > select, > input[type="number"] {\n    margin-left: 10px;\n  }\n']);return Ln=function(){return e},e}var Mn=G.a.div(Ln());function zn(e){var t=e.onCloseClick,n=e.updatePreference,r=e.preferences,i=function(e){n(e.target.name,e.target.checked)},o=function(e){n(e.target.name,Number(e.target.value))};return Object(a.jsxs)(Nn,{title:"Editor preferences",actions:[{label:"Close",onClick:function(){return t()}}],children:[Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"highlightActiveLine",onChange:i,checked:r.highlightActiveLine}),Object(a.jsx)("label",{htmlFor:"highlightActiveLine",children:"Highlight active line"})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"showInvisibles",onChange:i,checked:r.showInvisibles}),Object(a.jsx)("label",{htmlFor:"showInvisibles",children:"Show invisibles"})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"vimMode",onChange:i,checked:r.vimMode}),Object(a.jsx)("label",{htmlFor:"vimMode",children:"Enable vim mode"})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"lineWrap",onChange:i,checked:r.lineWrap}),Object(a.jsx)("label",{htmlFor:"line_wrap",children:"Enable line wrap"})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"scrollPastEnd",onChange:i,checked:r.scrollPastEnd}),Object(a.jsx)("label",{htmlFor:"scrollPastEnd"})," Enable scroll past end"]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("input",{type:"checkBox",name:"useSoftTabs",onChange:i,checked:r.useSoftTabs}),Object(a.jsx)("label",{htmlFor:"useSoftTabs",children:"Enable soft tabs"})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("label",{htmlFor:"tabSize",children:"Tab size"}),Object(a.jsx)("input",{type:"number",name:"tabSize",max:"10",min:"1",onChange:o,value:r.tabSize})]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("label",{htmlFor:"fontSize",children:"Font size"}),Object(a.jsx)("input",{type:"number",name:"fontSize",max:"70",min:"1",onChange:o,value:r.fontSize}),"px"]}),Object(a.jsxs)(Mn,{children:[Object(a.jsx)("label",{htmlFor:"theme",children:"Theme"}),Object(a.jsx)("select",{name:"theme",value:r.theme,onChange:function(e){n(e.target.name,e.target.value)},children:[{value:"dracula",name:"Dracula"},{value:"monokai",name:"Monokai"},{value:"tomorrow_night_eighties",name:"Tomorrow Night Eighties"},{value:"tomorrow",name:"Tomorrow"},{value:"textmate",name:"Textmate"}].map((function(e,t){return Object(a.jsx)("option",{value:e.value,children:e.name},t)}))})]})]})}function Fn(){var e=Object(u.a)(["\n  cursor: pointer;\n  position: relative;\n"]);return Fn=function(){return e},e}function Rn(){var e=Object(u.a)(["\n  display: flex;\n  flex-direction: row;\n  height: 40px;\n  font-size: 1.5em;\n  color: #444;\n  padding-left: 10px;\n  align-items: center;\n"]);return Rn=function(){return e},e}function Vn(){var e=Object(u.a)(["\n  height: 100%;\n  max-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return Vn=function(){return e},e}var Gn=G.a.div(Vn()),Hn=G.a.div(Rn()),Zn=G.a.span(Fn());var $n=Object(b.b)((function(e,t){return Object(s.a)(Object(s.a)(Object(s.a)({},e.interfaceConfig),{},{editorDefaultValue:e.editor.currentValue,editorPreferences:e.editor.preferences},e.interpreter),t)}),(function(e){return{toggleEditor:function(t){e(v({state:t}))},toggleInterpreter:function(t){e(p({state:t}))},changeInterpreterSplitDirection:function(t){e(x({direction:t}))},setBlock:function(t){e(D(t))},addDialogueLine:function(t){e(T(t))},clearTimeline:function(){e(_())},showExtraMetadata:function(){e(C())},hideExtraMetadata:function(){e(P())},showDebugPane:function(){e(B())},hideDebugPane:function(){e(I())},enableSingleBubbleDialogue:function(){e(A())},disableSingleBubbleDialogue:function(){e(N())},chooseOption:function(t){e(L(t))},setDocumentContent:function(t){e(k(t))},notifyEvent:function(t){e(M(t))},clearEvents:function(){e(z())},updateEditorPreference:function(t,n){e(y({name:t,value:n}))}}}))((function(e){var t=e.isEditorEnabled,n=void 0===t||t,r=e.isInterpreterEnabled,o=void 0===r||r,c=e.toggleEditor,l=e.toggleInterpreter,u=e.interpreterSplitDirection,s=void 0===u?"vertical":u,d=e.changeInterpreterSplitDirection,b=e.editorDefaultValue,h=e.setDocumentContent,f=e.editorPreferences,j=e.updateEditorPreference,g=e.currentBlock,v=e.timeline,p=e.shouldShowExtraMetadata,x=e.shouldShowDebugPane,O=e.singleBubblePresentation,m=e.document,k=e.setBlock,y=e.addDialogueLine,w=e.clearTimeline,E=e.showExtraMetadata,S=e.hideExtraMetadata,D=e.showDebugPane,T=e.hideDebugPane,_=e.enableSingleBubbleDialogue,C=e.disableSingleBubbleDialogue,P=e.chooseOption,B=e.events,I=e.notifyEvent,A=e.clearEvents,N=Object(i.useState)(!1),L=Object(V.a)(N,2),M=L[0],z=L[1],F=Object(i.useState)(!1),R=Object(V.a)(F,2),G=R[0],$=R[1],W=function(){z(!M)};return Object(a.jsxs)(Gn,{children:[Object(a.jsx)(Hn,{children:Object(a.jsxs)(Zn,{children:[Object(a.jsx)(H.a,{icon:Z.c,onClick:W,"aria-label":"Toggle settings menu"}),M?Object(a.jsxs)(ee,{onClick:W,children:[Object(a.jsx)(te,{label:"Change split direction",onClick:function(){d("vertical"===s?"horizontal":"vertical")},icon:Z.d,text:"Split mode: ".concat(s)}),o?Object(a.jsx)(te,{label:"Toggle editor",onClick:function(){return c(!n)},icon:Z.b,text:"".concat(n?"Hide":"Show"," editor")}):void 0,n?Object(a.jsx)(te,{label:"Toggle interpreter",onClick:function(){return l(!o)},icon:Z.g,text:"".concat(o?"Hide":"Show"," interpreter")}):void 0,Object(a.jsx)(te,{label:"Editor preferences",onClick:function(){$(!0)},icon:Z.m,text:"Editor preferences"})]}):""]})}),Object(a.jsxs)(K,{direction:s,defaultSizes:[50,50],style:{height:"calc(100% - 40px)"},"aria-label":"Main panels",children:[n?Object(a.jsx)(se,{defaultValue:b,setDocumentContent:h,notifyChange:y,preferences:f}):void 0,o?Object(a.jsx)(kn,{content:b,currentBlock:g,timeline:v,shouldShowExtraMetadata:p,shouldShowDebugPane:x,singleBubblePresentation:O,clydeDocument:m,setBlock:k,addDialogueLine:y,clearTimeline:w,showExtraMetadata:E,hideExtraMetadata:S,showDebugPane:D,hideDebugPane:T,enableSingleBubbleDialogue:_,disableSingleBubbleDialogue:C,chooseOption:P,events:B,notifyEvent:I,clearEvents:A}):void 0]}),G?Object(a.jsx)(zn,{updatePreference:j,preferences:f,onCloseClick:function(){return $(!1)}}):void 0]})})),Wn="clyde_editor_data",qn=Object(d.a)({reducer:R,devTools:!1,preloadedState:function(){var e,t=function(){try{var e=localStorage.getItem(Wn);if(null===e)return;return JSON.parse(e)}catch(t){return}}()||{editor:{}};return(null===(e=t.editor)||void 0===e?void 0:e.currentValue)||(t.editor.currentValue="--\n--\n-- This is a sample dialogue.\n--\n\nNarrator: Hello there!\nPlayer: Hi!\nNarrator: What do you want to talk about?\n  + [Life]\n    -> about life <-\n  + [The universe]\n    -> about the universe <-\n  * [Everything else... #some_tag]\n    -> about everything else <-\n  + [Earth]\n    -> about earth <-\n  + [Nothing]\n    -> goodbye <-\n\n\n== about life\nPlayer: I want to talk about life!\nNarrator: Well! That's complicated...\n<-\n\n\n== about the universe\nPlayer: I want to talk about the universe!\n( shuffle\n  - Narrator: That's too complex!\n  - Narrator: Maybe another time.\n  - Narrator: It's big...\n              I think that's all.\n)\n<-\n\n\n== about everything else\nPlayer: What about everything else?\nNarrator: I don't have time for this... #bored\n<-\n\n== about earth\nPlayer: What do you know about earth?\n( sequence\n - Narrator: It's mostly harmless.\n - Narrator: This again?\n             I've already told you, mostly harmless.\n -\n   Narrator: Why do you want to know so much about it?\n   Player: I don't know...\n   Narrator: So.. don't ask!\n\n - Narrator: I'm not talking about this anymore.\n)\n<-\n\n== goodbye\n{ not alreadyIntroduced }\n  Narrator: It was nice to meet you!\n  Player: I can say the same. See you around!\n  { set alreadyIntroduced = true }\nPlayer: Bye!\nNarrator: Good bye!\n"),{editor:t.editor,interpreter:Object(s.a)({document:void 0,events:[],timeline:[]},t.interpreter)}}()});qn.subscribe(f()((function(){var e=qn.getState(),t=e.interpreter,n=t.shouldShowExtraMetadata,r=t.shouldShowDebugPane,a=t.debugPaneDirection,i=t.singleBubblePresentation;!function(e){try{localStorage.setItem(Wn,JSON.stringify(e))}catch(t){}}({editor:{preferences:e.editor.preferences,currentValue:e.editor.currentValue},interpreter:{shouldShowExtraMetadata:n,shouldShowDebugPane:r,debugPaneDirection:a,singleBubblePresentation:i}})}),1e3));var Un=function(){return Object(a.jsx)(b.a,{store:qn,children:Object(a.jsx)($n,{})})};function Kn(){var e=Object(u.a)(["\n  margin-top: 30px;\n"]);return Kn=function(){return e},e}function Jn(){var e=Object(u.a)(["\n  font-family: 'Lato', sans-serif;\n  margin: 10px 40px;\n  p {\n    margin-bottom: 10px;\n  }\n\n  a {\n    margin: 5px 10px;\n  }\n"]);return Jn=function(){return e},e}function Qn(){var e=Object(u.a)(["\n  font-size: 2em;\n  font-weight: 500;\n"]);return Qn=function(){return e},e}function Yn(){var e=Object(u.a)(["\n  height: 100%;\n  max-height: 100vh;\n  max-width: 1200px;\n  display: flex;\n  flex-direction: column;\n  padding: 10px 5px;\n  margin: 0 auto;\n"]);return Yn=function(){return e},e}var Xn=G.a.div(Yn()),er=G.a.h1(Qn()),tr=G.a.div(Jn()),nr=G.a.div(Kn());function rr(){return Object(a.jsxs)(Xn,{children:[Object(a.jsxs)(tr,{children:[Object(a.jsx)(er,{children:"Clyde Dialogue Language"}),Object(a.jsx)(nr,{children:Object(a.jsxs)("p",{children:["Clyde is a language for writing dialogues.",Object(a.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde",children:"Github"}),Object(a.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde/blob/master/LANGUAGE.md",children:"Language Docs"}),Object(a.jsx)("a",{href:"https://github.com/viniciusgerevini/clyde/tree/master/cli",children:"CLI"}),Object(a.jsx)("a",{href:"https://github.com/viniciusgerevini/godot-clyde-dialogue",children:"Godot Plugin"})]})})]}),Object(a.jsx)(Un,{})]})}l.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(rr,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.a222ac55.chunk.js.map